---
title: 希捷ST2000DM001硬盘维修
date: 2020-08-19 22:20:53
categories:
  - 硬件
tags:
---

## 背景
周一像往常一样启动电脑，输入密码解锁，一看桌面上一片白。不用说，想必是又掉盘了，我电脑上这块磁盘自从买过来就一直有这个问题，开机有一定几率会检测不到磁盘。`S.M.A.R.T.`里确实有报警，但是都在阈值以下，我抱着侥幸心理一直没修。可万万没想到，没有一丝预兆，这块硬盘在今天早上彻底不行了。无论我重启电脑多少次，始终读不到硬盘，就连BIOS里也检测不到这块硬盘。好在我一个半月前把磁盘全盘备份了一遍，可以把文件恢复之前的版本，但是会丢失近期的文件更改。送去专业维修是不可能的，为了90天的数据花费几百实在不划算。那么现在摆在我面前的路只剩一条，自己尝试维修硬盘。

## 首轮诊断 + 维修
那诊断磁盘的第一步肯定是听声音、检查磁盘。上电后电机启转正常，紧接着磁头移动开始读取数据，有时候似乎有刮盘的声音，但是不能确定。再把电路板拆下载仔细观察，元件没有损坏，但是触点有些黑，可能是接触不良导致的？

接下来就是下饭操作了，我爸拿来了砂纸，让我把触点打磨一下试试。要知道电路板上布满各种导线和元器件，一不小心把线磨断或者是把哪个零件铲飞，问题就会变得更加复杂。当时我比较着急，也不顾上这么多了。小心翼翼把触点打磨好，再次启动硬盘，故障依旧orz。(后来才知道清理触点用橡皮擦就可以了)

## 再次诊断 + 维修
凭借以往的经验已经不能解决问题，接下来上网搜索试试。许多人说这个是希捷固件门问题，需要到希捷F3里清除`S.M.A.R.T.`和G表。

希捷的指令口其实就是个TTL串口，需要一个USB-TTL的设备，那研究下来有三款芯片
* FT232   成品售价约28元
* CP2102  成品售价约8元
* CH340   成品售价约5元

CH340是国产芯片所以比较便宜，但是其他芯片要注意别买到假货。

在淘宝上买好USB-TTL的设备，准备再次进行维修。这里还有个小插曲，我当时没注意指令口的排插比一般的要小，结果要修的时候杜邦线插不进去，那我就想了个办法，把杜邦头的塑料壳都去掉，用尖嘴钳压小一些，再裹上胶带防止短路，一个临时连接设备就做好了。(斜眼笑.jpg)

按照教程上连接好线，启动磁盘，终端显示`LED:00000047`并陷入死循环，无法进入F3维修。唉，维修硬盘真是困难重重，刚感觉有点希望，又一次跌入未知领域。

## 最后诊断 + 维修
搜索错误代码得知是固件损坏，看到一篇贴子上说要短接磁头触点。我大概看了一下，猜测反面的触点和正面的是连在一起的，打算短接试一下（见图）。
![硬盘正面短接点](/images/HDD_touchpoint_front.jpg)
![磁盘反面短接点](/images/HDD_touchpoint_back.jpg)
但是短接的时间很难把握，接早了会输出乱码，接晚了会没效果。在试了几十次后，终于成功了一次，我赶紧按照教程上的步骤修复硬盘。

此时已经是凌晨两点，要是这都修不好，估计我也要放弃了。重新连接SATA线，开机，数据全部恢复。Nice!

## 后记
只能说我当时非常幸运，这块盘并没有被我修好，它只是凑巧能运行。我在修好硬盘后尝试刷新固件发现会出错，接指令线读取固件也报错。可能是我在短接触点的时候进一步损坏了固件，正巧使得硬盘不会卡死在启动流程里。再后来[进一步搜索](https://patents.google.com/patent/CN105183578A/zh)得知，`LED:00000047`表示硬盘固件区被锁定，很有可能是MCMT损坏(MC对应Media Cache)。考虑到进一步维修的复杂程度，并且我需要的数据都已经恢复，我觉得这块硬盘已经没有维修价值了，本次硬盘维修经历止步于此。

最后，我在这次维修中，一直在思考一个问题。硬盘维修真的很难吗？我个人觉得不应该这么难，主要还是硬盘制造厂商的闭源，和整个硬盘维修行业的闭源。就硬盘制造厂商而言，他们并不会在卖硬盘时附赠一本《维修手册》，只有厂商的员工会接受培训学习维修技术。上游的资料受限，那么下游能获取到的就很少。就行业方面，这个行业不受重视。硬盘并不容易坏，本来需求就少，如果自己不保留点技术，就难以在恶劣的竞争环境中生存。于是我们就看到全网提问的人很多，但是愿意提供解决方法的人很少，大部分的知识掌握在小部分人手中。就算是简单的故障，人们也不得不花费重金，求助于专业的硬盘维修机构。也许这就叫做利益相关吧，哈哈。(当然这边所讲的都是日常的数据，真正重要的数据还是应该找专业的人维修。)

反观软件行业，开源的生态环境就做的很好，[Github](https://github.com/)、[StackOverflow](https://stackoverflow.com/)等等这些开源交流平台，使得整个软件行业绽放出勃勃生机。尽管困难重重，我依旧希望以后硬盘行业(尤其是硬盘制造厂商)也能变得开放起来。